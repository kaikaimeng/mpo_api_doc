<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dso_gui &mdash; mpo_api 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mpo_api
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dso2kp.html">dso2kp module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_acquire.html">dso_acquire module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_awg.html">dso_awg module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_basic.html">dso_basic module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_channel.html">dso_channel module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_colors.html">dso_colors module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_const.html">dso_const module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_display.html">dso_display module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_dmm.html">dso_dmm module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_draw.html">dso_draw module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_gonogo.html">dso_gonogo module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_gui.html">dso_gui module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_hardcopy.html">dso_hardcopy module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_math.html">dso_math module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_meas.html">dso_meas module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_power_supply.html">dso_power_supply module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_ref.html">dso_ref module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_sns.html">dso_sns module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_spectrum.html">dso_spectrum module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_timebase.html">dso_timebase module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dso_trigger.html">dso_trigger module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../load.html">load module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../psw.html">psw module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mpo_api</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">dso_gui</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for dso_gui</h1><div class="highlight"><pre>
<span></span><span class="c1"># Name: dso_gui.py</span>
<span class="c1">#</span>
<span class="c1"># Description: </span>
<span class="c1">#</span>
<span class="c1"># Author: GW Instek</span>
<span class="c1">#</span>
<span class="c1"># Documentation:</span>
<span class="c1"># https://github.com/OpenWave-GW/Python_APP</span>
<span class="c1">#</span>
<span class="c1"># License: GW Python APP License</span>
<span class="c1"># Copyright (c) 2023 GOOD WILL INSTRUMENT CO., LTD.</span>
<span class="c1"># https://github.com/OpenWave-GW/Python_APP/blob/main/LICENSE.txt</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">.. note:: This mudule can only be used on DSO! </span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">gc</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">gds_info</span> <span class="k">as</span> <span class="nn">gds</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">dso2kp</span> <span class="k">as</span> <span class="nn">gds</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">lvgl</span> <span class="k">as</span> <span class="nn">lv</span>
    <span class="kn">import</span> <span class="nn">fb</span>
    <span class="kn">import</span> <span class="nn">fs_driver</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>

<span class="kn">import</span> <span class="nn">dso_colors</span> <span class="k">as</span> <span class="nn">color</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">font</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">gds_ttfb_16</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">font</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">font_montserrat_16</span>

<span class="k">class</span> <span class="nc">__INIT</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">TRANSPARENT</span><span class="c1">#color.DKGRAY</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_bg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span><span class="c1">#color.TRANSPARENT </span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">gds</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span> <span class="o">=</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="n">size</span><span class="o">.</span><span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">canvas</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">set_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_buf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">CF</span><span class="o">.</span><span class="n">TRUE_COLOR</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">fill_bg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_bg_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">()</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_bg_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span><span class="p">)</span><span class="c1">#TRANS</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_bg_opa</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">__Gui_Init</span><span class="p">(</span><span class="n">__INIT</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1">#self.bg_color = color.DKGRAY</span>
        <span class="c1">#self.canvas_bg_color = color.DKGRAY</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">gds</span><span class="o">.</span><span class="n">Screen</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">size</span><span class="o">.</span><span class="n">height</span>
        <span class="n">lv</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">fb</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="c1"># Register FB display driver</span>
        <span class="n">disp_buf1</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">disp_draw_buf_t</span><span class="p">()</span>
        <span class="n">buf1_1</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="o">*</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">disp_buf1</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">buf1_1</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">buf1_1</span><span class="p">)</span><span class="o">//</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">disp_drv</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">disp_drv_t</span><span class="p">()</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">draw_buf</span> <span class="o">=</span> <span class="n">disp_buf1</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">flush_cb</span> <span class="o">=</span> <span class="n">fb</span><span class="o">.</span><span class="n">flush</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">hor_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">ver_res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">offset_x</span> <span class="o">=</span> <span class="mi">0</span><span class="c1">#disp_area_offset[0]</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">offset_y</span> <span class="o">=</span> <span class="mi">0</span><span class="c1">#disp_area_offset[1]</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">antialiasing</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">rotated</span> <span class="o">=</span> <span class="mi">0</span><span class="c1">#1: 90 rot</span>
        <span class="n">disp_drv</span><span class="o">.</span><span class="n">register</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

<div class="viewcode-block" id="DrawObject">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject">[docs]</a>
<span class="k">class</span> <span class="nc">DrawObject</span><span class="p">(</span><span class="n">__Gui_Init</span><span class="p">):</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">instance</span><span class="p">,</span> <span class="bp">cls</span><span class="p">):</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">instance</span>
    <span class="n">initial</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">DrawObject</span><span class="o">.</span><span class="n">initial</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
            <span class="n">DrawObject</span><span class="o">.</span><span class="n">initial</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span> <span class="o">=</span> <span class="kc">None</span>
<div class="viewcode-block" id="DrawObject.clear">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.clear">[docs]</a>
    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lv</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas_bg_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span><span class="c1">#color.TRANSPARENT </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">canvas</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">set_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_buf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">CF</span><span class="o">.</span><span class="n">TRUE_COLOR</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">fill_bg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas_bg_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        obj = lv.scr_act()</span>
<span class="sd">        style = lv.style_t()</span>
<span class="sd">        style.init()</span>
<span class="sd">        style.set_bg_color(self.bg_color)#TRANS</span>
<span class="sd">        style.set_bg_opa(lv.OPA.COVER)</span>
<span class="sd">        obj.add_style(style, 0)</span>
<span class="sd">        del style</span>
<span class="sd">        &#39;&#39;&#39;</span></div>

<div class="viewcode-block" id="DrawObject.set_bg_color">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.set_bg_color">[docs]</a>
    <span class="k">def</span> <span class="nf">set_bg_color</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">fill_bg</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span></div>

<div class="viewcode-block" id="DrawObject.draw_text">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_text">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">rol</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">):</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_bg_opa</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">TRANSP</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_text_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_text_font</span><span class="p">(</span><span class="n">font</span><span class="p">)</span>
        <span class="c1">#style.set_text_opa(lv.OPA.COVER)</span>
        <span class="c1">#style.set_text_decor(False)</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">label</span><span class="o">.</span><span class="n">set_style_transform_angle</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">rol</span><span class="o">*</span><span class="mi">10</span><span class="p">),</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">label</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">set_style_text_font</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span><span class="p">)</span>
        <span class="n">label</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">style</span>
        <span class="k">return</span> <span class="n">label</span></div>

<div class="viewcode-block" id="DrawObject.draw_line">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_line">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">line_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_width</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_opa</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x1</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y1</span><span class="p">},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x2</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y2</span><span class="p">}]</span>
        <span class="n">line</span><span class="o">.</span><span class="n">set_points</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">line</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">line_style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">line_style</span>
        <span class="k">return</span> <span class="n">line</span></div>

<div class="viewcode-block" id="DrawObject.draw_rect">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_rect">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_rect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_width</span><span class="p">,</span> <span class="n">y_hight</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">rect_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">set_line_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">set_line_width</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">set_line_opa</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
        <span class="n">rect</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">x_width</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)},</span>
            <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">x_width</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="n">y_hight</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="o">+</span><span class="n">y_hight</span><span class="p">)},</span>
            <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)}]</span>
        <span class="n">rect</span><span class="o">.</span><span class="n">set_points</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">rect</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">rect_style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">rect_style</span>
        <span class="k">return</span> <span class="n">rect</span></div>

<div class="viewcode-block" id="DrawObject.draw_arc">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_arc">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_arc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">rol</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">arc</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">arc</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">arc</span><span class="o">.</span><span class="n">set_end_angle</span><span class="p">(</span><span class="n">rol</span><span class="p">)</span>
        <span class="n">arc</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span>
        <span class="n">arc</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>        </div>

<div class="viewcode-block" id="DrawObject.draw_line_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_line_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_line_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span><span class="c1">#canvas</span>
        <span class="n">line_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">draw_line_dsc_t</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x1</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y1</span><span class="p">)},</span>
            <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x2</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y2</span><span class="p">)}]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_line</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">line_style</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">line_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_rect_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_rect_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_rect_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_width</span><span class="p">,</span> <span class="n">y_hight</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">):</span><span class="c1">#canvas</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39; </span>
<span class="sd">        rect_style = lv.draw_rect_dsc_t()</span>
<span class="sd">        rect_style.init()</span>
<span class="sd">        #rect_style.bg_color = self.canvas_bg_color</span>
<span class="sd">        rect_style.border_color = color</span>
<span class="sd">        rect_style.border_width = 1</span>
<span class="sd">        self.canvas.draw_rect(x, y, x_width, y_hight, rect_style)</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">line_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_width</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="p">},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">x_width</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="p">},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">x_width</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">y_hight</span><span class="p">},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="o">+</span><span class="n">y_hight</span><span class="p">},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="n">y</span><span class="p">}]</span>
        <span class="n">line</span><span class="o">.</span><span class="n">set_points</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">line</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">line_style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">line_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_fillrect_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_fillrect_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_fillrect_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_width</span><span class="p">,</span> <span class="n">y_hight</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">):</span><span class="c1">#canvas</span>
        <span class="n">rect_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">draw_rect_dsc_t</span><span class="p">()</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">border_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">rect_style</span><span class="o">.</span><span class="n">border_width</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_width</span><span class="p">,</span> <span class="n">y_hight</span><span class="p">,</span> <span class="n">rect_style</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">rect_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_polygon_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_polygon_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_polygon_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">):</span>
        <span class="n">line_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_color</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
        <span class="n">line_style</span><span class="o">.</span><span class="n">set_line_width</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1">#line_style.set_line_opa(lv.OPA.COVER)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x1</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y1</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x2</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y2</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x3</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y3</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x1</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y1</span><span class="p">)}]</span>
        <span class="n">line</span><span class="o">.</span><span class="n">set_points</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">))</span>
        <span class="n">line</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">line_style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">line_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_fillpolygon_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_fillpolygon_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_fillpolygon_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">):</span>
        <span class="n">polygon_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">draw_rect_dsc_t</span><span class="p">()</span>
        <span class="n">polygon_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">polygon_style</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">polygon_style</span><span class="o">.</span><span class="n">border_color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">polygon_style</span><span class="o">.</span><span class="n">border_width</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x1</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y1</span><span class="p">)},{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x2</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y2</span><span class="p">)},</span>
            <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">x3</span><span class="p">),</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">y3</span><span class="p">)}]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_polygon</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">polygon_style</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">polygon_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_arc_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_arc_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_arc_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span><span class="c1">#canvas</span>
        <span class="n">arc_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">draw_arc_dsc_t</span><span class="p">()</span>
        <span class="n">arc_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">arc_style</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">arc_style</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_arc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">start_angle</span><span class="p">,</span> <span class="n">end_angle</span><span class="p">,</span> <span class="n">arc_style</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">arc_style</span></div>

<div class="viewcode-block" id="DrawObject.draw_point_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_point_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_point_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">):</span><span class="c1">#canvas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">set_px_color</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span></div>

<div class="viewcode-block" id="DrawObject.draw_text_ex">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_text_ex">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_text_ex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">WHITE</span><span class="p">,</span><span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">):</span><span class="c1">#canvas</span>
        <span class="n">text_style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">draw_label_dsc_t</span><span class="p">()</span>
        <span class="n">text_style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">text_style</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="n">text_style</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">text_style</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
        <span class="k">del</span> <span class="n">text_style</span></div>

<div class="viewcode-block" id="DrawObject.set_font">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.set_font">[docs]</a>
    <span class="k">def</span> <span class="nf">set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">fnt_path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">global</span> <span class="n">font</span>
        <span class="k">if</span> <span class="n">fnt_path</span><span class="p">:</span>
            <span class="n">fs_drv</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">fs_drv_t</span><span class="p">()</span>
            <span class="n">fs_driver</span><span class="o">.</span><span class="n">fs_register</span><span class="p">(</span><span class="n">fs_drv</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">font</span><span class="o">=</span><span class="n">lv</span><span class="o">.</span><span class="n">font_load</span><span class="p">(</span><span class="s1">&#39;S:&#39;</span> <span class="o">+</span> <span class="n">fnt_path</span><span class="p">)</span>                
            <span class="k">except</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Cannot load font file&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">fs_drv</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">font</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">lv</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;font_montserrat_</span><span class="si">{</span><span class="n">size</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Invalid font size&#39;</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">font</span></div>

<div class="viewcode-block" id="DrawObject.draw_png">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_png">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_png</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">anim001_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find animimg001.png&quot;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="n">imgs</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">img_dsc_t</span><span class="p">({</span>
            <span class="s1">&#39;data_size&#39;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">anim001_data</span><span class="p">),</span>
            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="n">anim001_data</span>
        <span class="p">})</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">img</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
        <span class="n">img</span><span class="o">.</span><span class="n">set_src</span><span class="p">(</span><span class="n">imgs</span><span class="p">)</span>
        <span class="n">img</span><span class="o">.</span><span class="n">align</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">ALIGN</span><span class="o">.</span><span class="n">RIGHT_MID</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span></div>

<div class="viewcode-block" id="DrawObject.draw_popup">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.draw_popup">[docs]</a>
    <span class="k">def</span> <span class="nf">draw_popup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">delay</span><span class="p">):</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_bg_opa</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">OPA</span><span class="o">.</span><span class="n">COVER</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_bg_color</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">MWRGB</span><span class="p">(</span><span class="mh">0x4c</span><span class="p">,</span><span class="mh">0x51</span><span class="p">,</span><span class="mh">0x57</span><span class="p">))</span>
        <span class="c1">#style.set_bg_opa(lv.OPA.TRANSP)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_text_color</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">MWRGB</span><span class="p">(</span><span class="mi">248</span><span class="p">,</span><span class="mi">248</span><span class="p">,</span><span class="mi">248</span><span class="p">))</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_text_font</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">font_montserrat_14</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_border_width</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_border_color</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">MWRGB</span><span class="p">(</span><span class="mi">48</span><span class="p">,</span><span class="mi">64</span><span class="p">,</span><span class="mi">72</span><span class="p">))</span>
        <span class="n">style</span><span class="o">.</span><span class="n">set_pad_all</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1">#style.set_text_opa(lv.OPA.COVER)</span>
        <span class="c1">#style.set_text_decor(False)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">set_style_text_font</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">set_style_text_font</span><span class="p">(</span><span class="n">font</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
                
            <span class="k">if</span> <span class="n">delay</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">delay</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">remove_style_all</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">obj_popup</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="c1">#self.obj_popup.delect()</span>
                <span class="c1">#self.obj_popup = None</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">del</span> <span class="n">style</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span></div>


<div class="viewcode-block" id="DrawObject.Draw_A_B">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B">[docs]</a>
    <span class="k">class</span> <span class="nc">Draw_A_B</span><span class="p">():</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_size</span><span class="p">,</span> <span class="n">y_size</span><span class="p">,</span> <span class="n">bg_color</span><span class="o">=</span><span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="n">dark_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">bg_color</span><span class="p">,</span> <span class="n">grid_color</span><span class="o">=</span><span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="n">dark_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">grid_color</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B_area</span> <span class="o">=</span> <span class="p">(</span><span class="n">x_size</span><span class="p">,</span><span class="n">y_size</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B_pos</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">bg_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">grid_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">font</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">style_t</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_line_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_bg_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span><span class="p">)</span>
            <span class="c1">#self.style.set_text_color(self.color)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_border_width</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_border_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span><span class="c1">#add border        </span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_outline_width</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_outline_color</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">)</span><span class="c1">#add outline</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_radius</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<div class="viewcode-block" id="DrawObject.Draw_A_B.get_a_b_type">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B.get_a_b_type">[docs]</a>
        <span class="k">def</span> <span class="nf">get_a_b_type</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">get_type</span><span class="p">()</span></div>

        <span class="k">def</span> <span class="nf">__get_folat_to_int_num</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">float_type</span><span class="p">):</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">float_type</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">temp</span><span class="o">=</span><span class="mi">1</span>
            <span class="k">elif</span> <span class="n">float_type</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">temp</span><span class="o">=</span><span class="mi">10</span>
            <span class="k">elif</span> <span class="n">float_type</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span>
                <span class="n">temp</span><span class="o">=</span><span class="mi">100</span>
            <span class="k">elif</span> <span class="n">float_type</span><span class="o">==</span><span class="mi">3</span><span class="p">:</span>
                <span class="n">temp</span><span class="o">=</span><span class="mi">1000</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">__draw_a_b_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
            <span class="n">dsc</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj_draw_part_dsc_t</span><span class="o">.</span><span class="n">__cast__</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get_param</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">dsc</span><span class="o">.</span><span class="n">part</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span> <span class="ow">and</span> <span class="n">dsc</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">:</span>
                <span class="n">dsc</span><span class="o">.</span><span class="n">line_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">label_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">str_color</span><span class="c1">#self.color</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dsc</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="o">==</span><span class="mi">1000</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="o">==</span><span class="mi">100</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="o">==</span><span class="mi">10</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.0f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>   
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">dsc</span><span class="o">.</span><span class="n">part</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span> <span class="ow">and</span> <span class="n">dsc</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">:</span>
                <span class="n">dsc</span><span class="o">.</span><span class="n">line_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">label_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">str_color</span><span class="c1">#self.color</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dsc</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="o">==</span><span class="mi">1000</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="o">==</span><span class="mi">100</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="o">==</span><span class="mi">10</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.1f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="nb">str</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="si">%.0f</span><span class="s1">&#39;</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> 
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
<div class="viewcode-block" id="DrawObject.Draw_A_B.set_style_xy">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B.set_style_xy">[docs]</a>
        <span class="k">def</span> <span class="nf">set_style_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x_div</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">y_div</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span><span class="n">x_div_minor</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">y_div_minor</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span><span class="n">str_color</span><span class="o">=</span><span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="n">dark_mode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">text_color</span><span class="p">,</span><span class="n">str_font</span><span class="o">=</span><span class="n">font</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_B_area</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_B_area</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_B_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_B_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">add_style</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">style</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_style_line_width</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">ITEMS</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_style_size</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">INDICATOR</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_style_pad_all</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_div_line_count</span><span class="p">(</span><span class="n">y_div</span><span class="p">,</span> <span class="n">x_div</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">SCATTER</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">x_div</span><span class="p">,</span> <span class="n">x_div_minor</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">y_div</span><span class="p">,</span> <span class="n">y_div_minor</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_style_text_font</span><span class="p">(</span><span class="n">str_font</span><span class="p">,</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">str_color</span> <span class="o">=</span> <span class="n">str_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">add_event_cb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__draw_a_b_cb</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">EVENT</span><span class="o">.</span><span class="n">DRAW_PART_BEGIN</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  
            <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_address</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">limint_minmax_flag</span> <span class="o">=</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="DrawObject.Draw_A_B.set_a_b_min_max">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B.set_a_b_min_max">[docs]</a>
        <span class="k">def</span> <span class="nf">set_a_b_min_max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">a_min</span><span class="p">,</span><span class="n">a_max</span><span class="p">,</span><span class="n">b_min</span><span class="p">,</span><span class="n">b_max</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">limint_minmax_flag</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="n">a_min</span><span class="p">,</span> <span class="n">a_max</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="n">b_min</span><span class="p">,</span> <span class="n">b_max</span><span class="p">]</span>          </div>

        <span class="k">def</span> <span class="nf">__a_b_min_max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">a_value</span><span class="p">,</span><span class="n">b_value</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">limint_minmax_flag</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">a_value</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">a_value</span><span class="p">)]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">b_value</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b_value</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">a_value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_value</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b_value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b_value</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">a_value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_value</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">b_value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">b_value</span>
<div class="viewcode-block" id="DrawObject.Draw_A_B.add_a_b_data">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B.add_a_b_data">[docs]</a>
        <span class="k">def</span> <span class="nf">add_a_b_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data_color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">RED</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ser1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">add_series</span><span class="p">(</span><span class="n">data_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data_address</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="DrawObject.Draw_A_B.draw_a_b_data">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Draw_A_B.draw_a_b_data">[docs]</a>
        <span class="k">def</span> <span class="nf">draw_a_b_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">a_data</span><span class="p">,</span><span class="n">b_data</span><span class="p">,</span><span class="n">a_float</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">b_float</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">point_num</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_folat_to_int_num</span><span class="p">(</span><span class="n">a_float</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__get_folat_to_int_num</span><span class="p">(</span><span class="n">b_float</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">point_num</span> <span class="o">&lt;=</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">a_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">a_data</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">)</span>
                <span class="n">b_value</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">b_data</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_address</span> <span class="o">&lt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_address</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span><span class="p">):</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a_value</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b_value</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">a_value</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">b_value</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__a_b_min_max</span><span class="p">(</span><span class="n">a_value</span><span class="p">,</span> <span class="n">b_value</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_point_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_points_max</span><span class="p">)</span>
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">limint_minmax_flag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">))</span>
                
                <span class="bp">self</span><span class="o">.</span><span class="n">ser1</span><span class="o">.</span><span class="n">x_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser1</span><span class="o">.</span><span class="n">y_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">data_address</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">point_num</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">a_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">b_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">))</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">limint_minmax_flag</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">A_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">a_float_to_int</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">B_min_max</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">b_float_to_int</span><span class="p">))</span>                    
                <span class="c1">#self.data_points_max = int(point_num)</span>
                <span class="c1">#self.A_B.set_point_count(self.data_points_max)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">set_point_count</span><span class="p">(</span><span class="n">point_num</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser1</span><span class="o">.</span><span class="n">x_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">A_points</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser1</span><span class="o">.</span><span class="n">y_points</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">B_points</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">A_B</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span></div>
</div>


<div class="viewcode-block" id="DrawObject.Plot">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot">[docs]</a>
    <span class="k">class</span> <span class="nc">Plot</span><span class="p">():</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The tool can plot on your DSO.</span>

<span class="sd">        Args:</span>
<span class="sd">            x (int): x position of figure.</span>
<span class="sd">            y (int): y position of figure.</span>
<span class="sd">            width (int): Width of figure.</span>
<span class="sd">            height (int): Height of figure.</span>
<span class="sd">            dark_mode (bool, optional): Is dark mode or not. Defaults to True.</span>

<span class="sd">        A simple example is as follows.</span>

<span class="sd">        .. code-block::</span>

<span class="sd">            import dso_gui</span>
<span class="sd">            import gds_info as gds</span>
<span class="sd">            import dso_colors as color</span>

<span class="sd">            # Initialize the GUI</span>
<span class="sd">            gui = dso_gui.DrawObject()</span>
<span class="sd">            gui.set_bg_color(gds.Theme().bg_color)</span>

<span class="sd">            # Create figure object</span>
<span class="sd">            fig = gui.Plot(x=120, y=43, width=630, height=350)</span>
<span class="sd">            fig.grid(x_major=12, y_major=10, line_color=gds.Theme().grid_color, bg_color=gds.Theme().bg_color, x_minor=5, y_minor=5)</span>
<span class="sd">            fig.set_x_axis_on(text_color=gds.Theme().text_color, line_color=gds.Theme().grid_color, fmt=&#39;%d&#39;)</span>
<span class="sd">            fig.set_y_axis_on(text_color=gds.Theme().text_color, line_color=gds.Theme().grid_color, fmt=&#39;%.1f&#39;)</span>

<span class="sd">            # Add axis labels</span>
<span class="sd">            gui.draw_text(400, 440, &quot;Time(h)&quot;, gds.Theme().text_color)</span>
<span class="sd">            gui.draw_text(30, 300, f&quot;Temperature({chr(176)}C)&quot;, gds.Theme().text_color, 270)</span>

<span class="sd">            # Add legend</span>
<span class="sd">            gui.draw_text(310, 15, &quot;Sample A&quot;, gds.Theme().text_color)</span>
<span class="sd">            gui.draw_line(270,25,300,25, color.LTGREEN)</span>
<span class="sd">            gui.draw_text(460, 15, &quot;Sample B&quot;, gds.Theme().text_color)</span>
<span class="sd">            gui.draw_line(420,25,450,25, color.YELLOW)</span>

<span class="sd">            # Draw data point for Sample A</span>
<span class="sd">            valx = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]</span>
<span class="sd">            valy = [20.0, 23.4, 26.8, 29.5, 33.2, 37.6, 41.2, 45.7, 50.0, 56.1, 62.7, 62.5, 62.8]</span>
<span class="sd">            fig.plot(valx, valy, color=color.LTGREEN)</span>

<span class="sd">            # Draw data point for Sample B</span>
<span class="sd">            valy = [20.0, 26.2, 32.5, 38.3, 45.7, 52.4, 59.3, 67.8, 75.4, 75.1, 75.2, 75.6, 75.3]</span>
<span class="sd">            fig.plot(valx, valy, color=color.YELLOW)</span>

<span class="sd">        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">dark_mode</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span> <span class="o">=</span> <span class="n">dark_mode</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">scr_act</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">TYPE</span><span class="o">.</span><span class="n">SCATTER</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_pos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_event_cb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__plot_cb</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">EVENT</span><span class="o">.</span><span class="n">DRAW_PART_BEGIN</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_line_width</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_x_axis_on</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_y_axis_on</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_ser</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">def</span> <span class="nf">__refresh_ratio_step</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio_step</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_major</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">65535</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio_step</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio_step</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_major</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="mi">65535</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio_step</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">__plot_cb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">e</span><span class="p">):</span>
            <span class="n">dsc</span> <span class="o">=</span> <span class="n">lv</span><span class="o">.</span><span class="n">obj_draw_part_dsc_t</span><span class="o">.</span><span class="n">__cast__</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">get_param</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">dsc</span><span class="o">.</span><span class="n">part</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span> <span class="ow">and</span> <span class="n">dsc</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">:</span>
                <span class="n">dsc</span><span class="o">.</span><span class="n">line_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_line_color</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">label_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_text_color</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dsc</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_fmt</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span>   
                    <span class="c1">#print(f&#39;xaxis : {str}, {int(dsc.value)}, {self.graph_xlim[0]}, {self.graph_xlim[1]}, {self.x_ratio}&#39;)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
            <span class="k">elif</span> <span class="n">dsc</span><span class="o">.</span><span class="n">part</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span> <span class="ow">and</span> <span class="n">dsc</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">:</span>
                <span class="n">dsc</span><span class="o">.</span><span class="n">line_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_line_color</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">label_dsc</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_text_color</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">dsc</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span><span class="p">)</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span>
                    <span class="n">tmp</span> <span class="o">=</span> <span class="n">tmp</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="nb">str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_fmt</span><span class="o">.</span><span class="n">encode</span><span class="p">()</span><span class="o">%</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
                    <span class="n">dsc</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="s2">&quot;ascii&quot;</span><span class="p">)</span> 
                    <span class="c1">#print(f&#39;yaxis : {str}, {int(dsc.value)}, {self.graph_ylim[0]}, {self.graph_ylim[1]}, {self.b_float_to_int}&#39;)</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>

<div class="viewcode-block" id="DrawObject.Plot.get_xlim">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.get_xlim">[docs]</a>
        <span class="k">def</span> <span class="nf">get_xlim</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Return the x-axis view limits.</span>

<span class="sd">            Returns:</span>
<span class="sd">                float: The current x-axis limits in data coordinates.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;xmin&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;xmax&#39;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_xlim">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_xlim">[docs]</a>
        <span class="k">def</span> <span class="nf">set_xlim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xmin</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">xmax</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Set the x-axis view limits.</span>

<span class="sd">            Args:</span>
<span class="sd">                xmin (float): The min xlim in data coordinates.</span>
<span class="sd">                xmax (float): The max xlim in data coordinates.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xmin</span> <span class="o">=</span> <span class="n">xmin</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xmax</span> <span class="o">=</span> <span class="n">xmax</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span> <span class="o">=</span> <span class="kc">True</span></div>


<div class="viewcode-block" id="DrawObject.Plot.get_ylim">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.get_ylim">[docs]</a>
        <span class="k">def</span> <span class="nf">get_ylim</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Return the y-axis view limits.</span>

<span class="sd">            Returns:</span>
<span class="sd">                float: The current y-axis limits in data coordinates.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ymin&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ymax&#39;</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_ylim">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_ylim">[docs]</a>
        <span class="k">def</span> <span class="nf">set_ylim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ymin</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span> <span class="n">ymax</span><span class="p">:</span><span class="nb">float</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Set the y-axis view limits.</span>

<span class="sd">            Args:</span>
<span class="sd">                ymin (float): The min ylim in data coordinates.</span>
<span class="sd">                ymax (float): The max ylim in data coordinates.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ymin</span> <span class="o">=</span> <span class="n">ymin</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ymax</span> <span class="o">=</span> <span class="n">ymax</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span> <span class="o">=</span> <span class="kc">True</span></div>

        
<div class="viewcode-block" id="DrawObject.Plot.set_x_axis_on">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_x_axis_on">[docs]</a>
        <span class="k">def</span> <span class="nf">set_x_axis_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Configure and show the x-axis.</span>

<span class="sd">            If you change grid&#39;s configure, then you have to run it once.</span>

<span class="sd">            Keyword Args:</span>
<span class="sd">                text_color: The y-axis text color.</span>
<span class="sd">                line_color: The y-axis color</span>
<span class="sd">                fmt: The y-axis text string format. ex:&#39;%.2f&#39;</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;x_major&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;x_minor&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_text_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;text_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">text_color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_line_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;line_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">grid_color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_axis_fmt</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fmt&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_major</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_minor</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_x_axis_off">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_x_axis_off">[docs]</a>
        <span class="k">def</span> <span class="nf">set_x_axis_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Hide all visual components of the x-axis.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_y_axis_on">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_y_axis_on">[docs]</a>
        <span class="k">def</span> <span class="nf">set_y_axis_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Configure and show the y-axis.</span>

<span class="sd">            If you change grid&#39;s configure, then you have to run it once.</span>

<span class="sd">            Keyword Args:</span>
<span class="sd">                text_color: The y-axis text color.</span>
<span class="sd">                line_color: The y-axis color</span>
<span class="sd">                fmt: The y-axis text string format. ex:&#39;%.2f&#39;</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;y_major&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;y_minor&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_text_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;text_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">text_color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_line_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;line_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">grid_color</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_axis_fmt</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;fmt&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y_major</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_minor</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_y_axis_off">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_y_axis_off">[docs]</a>
        <span class="k">def</span> <span class="nf">set_y_axis_off</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Hide all visual components of the y-axis.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_axis_tick</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></div>

        
<div class="viewcode-block" id="DrawObject.Plot.grid">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.grid">[docs]</a>
        <span class="k">def</span> <span class="nf">grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x_major</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">y_major</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Configure the grid lines.</span>

<span class="sd">            Args:</span>
<span class="sd">                x_major (int, optional): The X division number. Defaults to 10.</span>
<span class="sd">                y_major (int, optional): The Y division number. Defaults to 10.</span>

<span class="sd">            Keyword Args:</span>
<span class="sd">                line_color: The grid color.</span>
<span class="sd">                bg_color: The grid background color.</span>
<span class="sd">                font: The font</span>
<span class="sd">                x_minor: The minor X division number.</span>
<span class="sd">                y_minor: The minor X division number.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">line_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;line_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">grid_color</span><span class="p">)</span>
            <span class="n">bg_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bg_color&#39;</span><span class="p">,</span> <span class="n">gds</span><span class="o">.</span><span class="n">Theme</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dark_mode</span><span class="p">)</span><span class="o">.</span><span class="n">bg_color</span><span class="p">)</span>
            <span class="n">str_font</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">x_minor</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;x_minor&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_minor</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;y_minor&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_major</span> <span class="o">=</span> <span class="n">x_major</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_major</span> <span class="o">=</span> <span class="n">y_major</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_div_line_count</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">y_major</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_major</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_line_color</span><span class="p">(</span><span class="n">line_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_border_color</span><span class="p">(</span><span class="n">line_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_bg_color</span><span class="p">(</span><span class="n">bg_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_text_font</span><span class="p">(</span><span class="n">str_font</span><span class="p">,</span><span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">TICKS</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_outline_color</span><span class="p">(</span><span class="n">color</span><span class="o">.</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_border_width</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_outline_width</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_radius</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">MAIN</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_pad_all</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="n">bg_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">line_color</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">str_font</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__refresh_ratio_step</span><span class="p">()</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_line_width">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_line_width">[docs]</a>
        <span class="k">def</span> <span class="nf">set_line_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Set the line width, with 0 is only the mark.</span>

<span class="sd">            Args:</span>
<span class="sd">                width (int, optional): Defaults to 1.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_line_width</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">ITEMS</span><span class="p">)</span></div>


<div class="viewcode-block" id="DrawObject.Plot.set_size">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.set_size">[docs]</a>
        <span class="k">def</span> <span class="nf">set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;The marker size in points.</span>

<span class="sd">            Args:</span>
<span class="sd">                size (int, optional): Defaults to 1.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_style_size</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">PART</span><span class="o">.</span><span class="n">INDICATOR</span><span class="p">)</span></div>

            
        <span class="k">def</span> <span class="nf">__plot_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ser&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;ser_data&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;graph_xlim&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;graph_ylim&#39;</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<div class="viewcode-block" id="DrawObject.Plot.plot">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.plot">[docs]</a>
        <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Plot y versus x as lines or marks.</span>

<span class="sd">            Both x and y will be a number or 1-D list</span>

<span class="sd">            &gt;&gt;&gt; plot(x, y)        # plot x and y using default color</span>
<span class="sd">            &gt;&gt;&gt; plot(y)           # plot y using x as index array 0..N-1</span>
<span class="sd">            &gt;&gt;&gt; plot(x, y, color=lv.color_hex(0x000000))        # plot x and y using hex color code</span>

<span class="sd">            Keyword Args:</span>
<span class="sd">                color: the line color</span>

<span class="sd">            &quot;&quot;&quot;</span>
            <span class="n">line_color</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">.</span><span class="n">RED</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">plot_method</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># Only ydata input</span>
                <span class="n">ydata</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ydata</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                    <span class="n">xdata</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ydata</span><span class="p">)))</span>
                    <span class="n">plot_method</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xdata</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Both xdata and ydata input</span>
                <span class="n">xdata</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">ydata</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span><span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ydata</span><span class="p">,</span><span class="nb">list</span><span class="p">):</span>
                    <span class="n">plot_method</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">pass</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">__plot_init</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">plot_method</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_series</span><span class="p">(</span><span class="n">line_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__plot_data</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">new_ser</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">add_series</span><span class="p">(</span><span class="n">line_color</span><span class="p">,</span> <span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="o">.</span><span class="n">append</span><span class="p">([[],[]])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">hold</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__plot_data_attach</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">)</span>
            
            <span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span></div>


        <span class="k">def</span> <span class="nf">__find_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># X axis</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin</span>
                    <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                        <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax</span>
                    <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                        <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1">#print(f&#39;x : {self.graph_xlim[0]} {self.graph_xlim[1]}&#39;)</span>
            <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># Y asix</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin</span>
                    <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                        <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax</span>
                    <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                        <span class="n">limit_change</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">return</span> <span class="n">limit_change</span>
        
        <span class="k">def</span> <span class="nf">__set_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xlim</span><span class="p">:</span>
                <span class="n">xlim_1</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xmin</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span>
                <span class="n">xlim_2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xmax</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">xlim_1</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">xlim_2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ylim</span><span class="p">:</span>
                <span class="n">ylim_1</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ymin</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span>
                <span class="n">ylim_2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ymax</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ylim_1</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">ylim_2</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span>

            <span class="n">xlim_1</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span>
            <span class="n">xlim_1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xlim_1</span><span class="p">,</span> <span class="mi">32767</span><span class="p">),</span> <span class="o">-</span><span class="mi">32768</span><span class="p">)</span>

            <span class="n">xlim_2</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span>
            <span class="n">xlim_2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xlim_2</span><span class="p">,</span> <span class="mi">32767</span><span class="p">),</span> <span class="o">-</span><span class="mi">32768</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_X</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">xlim_1</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">xlim_2</span><span class="p">))</span>

            <span class="n">ylim_1</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span>
            <span class="n">ylim_1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">ylim_1</span><span class="p">,</span> <span class="mi">32767</span><span class="p">),</span> <span class="o">-</span><span class="mi">32768</span><span class="p">)</span>

            <span class="n">ylim_2</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span>
            <span class="n">ylim_2</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">ylim_2</span><span class="p">,</span> <span class="mi">32767</span><span class="p">),</span> <span class="o">-</span><span class="mi">32768</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_range</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">chart</span><span class="o">.</span><span class="n">AXIS</span><span class="o">.</span><span class="n">PRIMARY_Y</span><span class="p">,</span> <span class="nb">round</span><span class="p">(</span><span class="n">ylim_1</span><span class="p">),</span> <span class="nb">round</span><span class="p">(</span><span class="n">ylim_2</span><span class="p">))</span>
        
        <span class="k">def</span> <span class="nf">__plot_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a_data</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">b_data</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
            <span class="n">limit_change</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span>
            <span class="n">total_series</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">)</span>
            <span class="n">data_len_1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">a_data</span><span class="p">)</span>
            <span class="n">data_len_2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">b_data</span><span class="p">)</span>
            
            <span class="c1"># store original data (float)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a_data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b_data</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_point_count</span><span class="p">(</span><span class="n">data_len_1</span><span class="p">)</span>

            <span class="n">limit_change</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__find_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">limit_change</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__find_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio_step</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio_step</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">limit_change</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_series</span><span class="p">):</span>
                    <span class="n">x_array</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">data_len_1</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_len_1</span><span class="p">):</span>
                        <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span><span class="p">)</span>
                        <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x_points</span> <span class="o">=</span> <span class="n">x_array</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">total_series</span><span class="o">-</span><span class="mi">1</span>
                <span class="n">x_array</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">data_len_1</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_len_1</span><span class="p">):</span>
                    <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span><span class="p">)</span>
                    <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x_points</span> <span class="o">=</span> <span class="n">x_array</span>

            <span class="k">if</span> <span class="n">limit_change</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_series</span><span class="p">):</span>
                    <span class="n">y_array</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">data_len_2</span>
                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_len_2</span><span class="p">):</span>
                        <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span><span class="p">)</span>
                        <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">y_points</span> <span class="o">=</span> <span class="n">y_array</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">total_series</span><span class="o">-</span><span class="mi">1</span>
                <span class="n">y_array</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">data_len_2</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">data_len_2</span><span class="p">):</span>
                    <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span><span class="p">)</span>
                    <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">y_points</span> <span class="o">=</span> <span class="n">y_array</span>
            
            <span class="k">del</span> <span class="n">x_array</span>
            <span class="k">del</span> <span class="n">y_array</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__set_graph_lim</span><span class="p">()</span>
            

        <span class="k">def</span> <span class="nf">__plot_data_attach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xdata</span><span class="p">,</span> <span class="n">ydata</span><span class="p">):</span>
            <span class="n">total_series</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">65535</span><span class="p">:</span>
                <span class="k">return</span>
            
            <span class="c1"># store original data (float)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ydata</span><span class="p">)</span>
            <span class="n">data_len_2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">xdata</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">xdata</span> <span class="o">=</span> <span class="n">data_len_2</span><span class="o">-</span><span class="mi">1</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">xdata</span><span class="p">)</span>
            <span class="c1">#data_len_1 = len(self.ser_data[total_series-1][0])</span>
            
            <span class="n">p_cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_series</span><span class="p">):</span>
                <span class="n">p_cnt</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">p_cnt</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">set_point_count</span><span class="p">(</span><span class="n">p_cnt</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__find_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__find_graph_lim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">total_series</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio_step</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio_step</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_series</span><span class="p">):</span>
                <span class="n">x_array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">p_cnt</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p_cnt</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_xlim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">x_ratio</span><span class="p">)</span>
                        <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_shift_cnt</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_array</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">x_points</span> <span class="o">=</span> <span class="n">x_array</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_series</span><span class="p">):</span>
                <span class="n">y_array</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">p_cnt</span>
                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p_cnt</span><span class="p">):</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">ser_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">graph_ylim</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">y_ratio</span><span class="p">)</span>
                        <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span><span class="bp">self</span><span class="o">.</span><span class="n">y_shift_cnt</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">y_array</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ser</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">y_points</span> <span class="o">=</span> <span class="n">y_array</span>

            <span class="k">del</span> <span class="n">x_array</span>
            <span class="k">del</span> <span class="n">y_array</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__set_graph_lim</span><span class="p">()</span>
        
<div class="viewcode-block" id="DrawObject.Plot.hold">
<a class="viewcode-back" href="../dso_gui.html#dso_gui.DrawObject.Plot.hold">[docs]</a>
        <span class="k">def</span> <span class="nf">hold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Set the hold state.</span>

<span class="sd">            &gt;&gt;&gt; hold()      # hold is on</span>
<span class="sd">            &gt;&gt;&gt; hold(True)  # hold is on</span>
<span class="sd">            &gt;&gt;&gt; hold(False) # hold is off</span>

<span class="sd">            Args:</span>
<span class="sd">                b (bool, optional): Defaults to True.</span>
<span class="sd">            &quot;&quot;&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_ser</span> <span class="o">=</span> <span class="n">b</span></div>
</div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, GW Instek.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>